{"version":3,"file":"DelegateType.cjs","sources":["../../../../src/plugins/nftModule/DelegateType.ts"],"sourcesContent":["import {\n  DelegateArgs,\n  TokenDelegateRole,\n  MetadataDelegateRole,\n} from '@metaplex-foundation/mpl-token-metadata';\nimport { DelegateRoleRequiredDataError } from './errors';\nimport { UnreachableCaseError } from '@/errors';\n\nexport type TokenDelegateType =\n  | 'StandardV1'\n  | 'TransferV1'\n  | 'LockedTransferV1'\n  | 'SaleV1'\n  | 'UtilityV1'\n  | 'StakingV1';\nexport type MetadataDelegateType =\n  // | 'AuthorityV1'\n  | 'CollectionV1'\n  // | 'UseV1'\n  | 'UpdateV1'\n  | 'ProgrammableConfigV1';\n\nconst tokenDelegateRoleMap: Record<TokenDelegateType, TokenDelegateRole> = {\n  StandardV1: TokenDelegateRole.Standard,\n  TransferV1: TokenDelegateRole.Transfer,\n  LockedTransferV1: TokenDelegateRole.LockedTransfer,\n  SaleV1: TokenDelegateRole.Sale,\n  UtilityV1: TokenDelegateRole.Utility,\n  StakingV1: TokenDelegateRole.Staking,\n};\n\nconst metadataDelegateRoleMap: Record<\n  MetadataDelegateType,\n  MetadataDelegateRole\n> = {\n  // AuthorityV1: MetadataDelegateRole.Authority,\n  CollectionV1: MetadataDelegateRole.Collection,\n  // UseV1: MetadataDelegateRole.Use,\n  UpdateV1: MetadataDelegateRole.Update,\n  ProgrammableConfigV1: MetadataDelegateRole.ProgrammableConfig,\n};\n\nconst metadataDelegateSeedMap: Record<MetadataDelegateRole, string> = {\n  [MetadataDelegateRole.Authority]: 'authority_delegate',\n  [MetadataDelegateRole.Collection]: 'collection_delegate',\n  [MetadataDelegateRole.Use]: 'use_delegate',\n  [MetadataDelegateRole.Update]: 'update_delegate',\n  [MetadataDelegateRole.ProgrammableConfig]: 'programmable_config_delegate',\n};\n\nconst delegateCustomDataMap: Record<\n  TokenDelegateType | MetadataDelegateType,\n  boolean\n> = {\n  // Metadata.\n  // AuthorityV1: false,\n  CollectionV1: false,\n  // UseV1: false,\n  UpdateV1: false,\n  ProgrammableConfigV1: false,\n  // Token\n  StandardV1: true,\n  TransferV1: true,\n  SaleV1: true,\n  UtilityV1: true,\n  StakingV1: true,\n  LockedTransferV1: true,\n};\n\nexport const getTokenDelegateRole = (\n  type: TokenDelegateType\n): TokenDelegateRole => {\n  const role = tokenDelegateRoleMap[type];\n  if (!role) throw new UnreachableCaseError(type as never);\n  return role;\n};\n\nexport const getMetadataDelegateRole = (\n  type: MetadataDelegateType\n): MetadataDelegateRole => {\n  const role = metadataDelegateRoleMap[type];\n  if (!role) throw new UnreachableCaseError(type as never);\n  return role;\n};\n\nexport const getMetadataDelegateRoleSeed = (\n  type: MetadataDelegateType\n): string => {\n  return metadataDelegateSeedMap[getMetadataDelegateRole(type)];\n};\n\nexport const getDefaultDelegateArgs = (\n  type: TokenDelegateType | MetadataDelegateType\n): Omit<DelegateArgs, 'authorizationData'> => {\n  const hasCustomData = delegateCustomDataMap[type];\n  if (hasCustomData === undefined)\n    throw new UnreachableCaseError(type as never);\n  if (hasCustomData) throw new DelegateRoleRequiredDataError(type);\n  return { __kind: type } as DelegateArgs;\n};\n"],"names":["tokenDelegateRoleMap","StandardV1","TokenDelegateRole","Standard","TransferV1","Transfer","LockedTransferV1","LockedTransfer","SaleV1","Sale","UtilityV1","Utility","StakingV1","Staking","metadataDelegateRoleMap","CollectionV1","MetadataDelegateRole","Collection","UpdateV1","Update","ProgrammableConfigV1","ProgrammableConfig","metadataDelegateSeedMap","Authority","Use","delegateCustomDataMap","getTokenDelegateRole","type","role","UnreachableCaseError","getMetadataDelegateRole","getMetadataDelegateRoleSeed","getDefaultDelegateArgs","hasCustomData","undefined","DelegateRoleRequiredDataError","__kind"],"mappings":";;;;;;;;AAsBA,MAAMA,oBAAkE,GAAG;EACzEC,UAAU,EAAEC,kCAAiB,CAACC,QAAQ;EACtCC,UAAU,EAAEF,kCAAiB,CAACG,QAAQ;EACtCC,gBAAgB,EAAEJ,kCAAiB,CAACK,cAAc;EAClDC,MAAM,EAAEN,kCAAiB,CAACO,IAAI;EAC9BC,SAAS,EAAER,kCAAiB,CAACS,OAAO;EACpCC,SAAS,EAAEV,kCAAiB,CAACW,OAAAA;AAC/B,CAAC,CAAA;AAED,MAAMC,uBAGL,GAAG;AACF;EACAC,YAAY,EAAEC,qCAAoB,CAACC,UAAU;AAC7C;EACAC,QAAQ,EAAEF,qCAAoB,CAACG,MAAM;EACrCC,oBAAoB,EAAEJ,qCAAoB,CAACK,kBAAAA;AAC7C,CAAC,CAAA;AAED,MAAMC,uBAA6D,GAAG;AACpE,EAAA,CAACN,qCAAoB,CAACO,SAAS,GAAG,oBAAoB;AACtD,EAAA,CAACP,qCAAoB,CAACC,UAAU,GAAG,qBAAqB;AACxD,EAAA,CAACD,qCAAoB,CAACQ,GAAG,GAAG,cAAc;AAC1C,EAAA,CAACR,qCAAoB,CAACG,MAAM,GAAG,iBAAiB;EAChD,CAACH,qCAAoB,CAACK,kBAAkB,GAAG,8BAAA;AAC7C,CAAC,CAAA;AAED,MAAMI,qBAGL,GAAG;AACF;AACA;AACAV,EAAAA,YAAY,EAAE,KAAK;AACnB;AACAG,EAAAA,QAAQ,EAAE,KAAK;AACfE,EAAAA,oBAAoB,EAAE,KAAK;AAC3B;AACAnB,EAAAA,UAAU,EAAE,IAAI;AAChBG,EAAAA,UAAU,EAAE,IAAI;AAChBI,EAAAA,MAAM,EAAE,IAAI;AACZE,EAAAA,SAAS,EAAE,IAAI;AACfE,EAAAA,SAAS,EAAE,IAAI;AACfN,EAAAA,gBAAgB,EAAE,IAAA;AACpB,CAAC,CAAA;AAEYoB,MAAAA,oBAAoB,GAC/BC,IAAuB,IACD;AACtB,EAAA,MAAMC,IAAI,GAAG5B,oBAAoB,CAAC2B,IAAI,CAAC,CAAA;EACvC,IAAI,CAACC,IAAI,EAAE,MAAM,IAAIC,6BAAoB,CAACF,IAAI,CAAU,CAAA;AACxD,EAAA,OAAOC,IAAI,CAAA;AACb,EAAC;AAEYE,MAAAA,uBAAuB,GAClCH,IAA0B,IACD;AACzB,EAAA,MAAMC,IAAI,GAAGd,uBAAuB,CAACa,IAAI,CAAC,CAAA;EAC1C,IAAI,CAACC,IAAI,EAAE,MAAM,IAAIC,6BAAoB,CAACF,IAAI,CAAU,CAAA;AACxD,EAAA,OAAOC,IAAI,CAAA;AACb,EAAC;AAEYG,MAAAA,2BAA2B,GACtCJ,IAA0B,IACf;AACX,EAAA,OAAOL,uBAAuB,CAACQ,uBAAuB,CAACH,IAAI,CAAC,CAAC,CAAA;AAC/D,EAAC;AAEYK,MAAAA,sBAAsB,GACjCL,IAA8C,IACF;AAC5C,EAAA,MAAMM,aAAa,GAAGR,qBAAqB,CAACE,IAAI,CAAC,CAAA;EACjD,IAAIM,aAAa,KAAKC,SAAS,EAC7B,MAAM,IAAIL,6BAAoB,CAACF,IAAI,CAAU,CAAA;AAC/C,EAAA,IAAIM,aAAa,EAAE,MAAM,IAAIE,oCAA6B,CAACR,IAAI,CAAC,CAAA;EAChE,OAAO;AAAES,IAAAA,MAAM,EAAET,IAAAA;GAAM,CAAA;AACzB;;;;;;;"}